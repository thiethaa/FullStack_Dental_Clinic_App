{"ast":null,"code":"import _classCallCheck from\"/Users/mzaman/Documents/_FullStack_Project/DENTALCLINIC_APP/FrontEnd_dental_clinic_UI/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mzaman/Documents/_FullStack_Project/DENTALCLINIC_APP/FrontEnd_dental_clinic_UI/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/mzaman/Documents/_FullStack_Project/DENTALCLINIC_APP/FrontEnd_dental_clinic_UI/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/mzaman/Documents/_FullStack_Project/DENTALCLINIC_APP/FrontEnd_dental_clinic_UI/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/mzaman/Documents/_FullStack_Project/DENTALCLINIC_APP/FrontEnd_dental_clinic_UI/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Card,Form,Row,Col}from'react-bootstrap';import{Link}from'react-router-dom';import axios from'axios';import MyToast from'./MyToast';var EditEmployee=/*#__PURE__*/function(_Component){_inherits(EditEmployee,_Component);var _super=_createSuper(EditEmployee);function EditEmployee(props){var _this;_classCallCheck(this,EditEmployee);_this=_super.call(this,props);_this.initialState={treatment:'',time:'',date:'',dentist:'',employees:[],username:'',password:''};_this.findTreatmentById=function(fileId){axios.get(\"http://localhost:8020/dentaltreatments/treatmentbyid/\"+fileId).then(function(response){return response.data;}).then(function(data){_this.setState({treatment:data.title});});};_this.findPatientByUsername=function(username){axios.get(\"http://localhost:8040/patient/\"+username).then(function(response){_this.setState({firstName:response.data.firstName,lastName:response.data.lastName,email:response.data.email,username:response.data.username,password:response.data.password,dob:response.data.dob,gender:response.data.gender,phone:response.data.phone,address:response.data.address,treatment:response.data.treatment,dentist:response.data.dentist,date:response.data.date,time:response.data.time,lastTreatment:response.data.lastTreatment,lastDentist:response.data.lastDentist,lastVisit:response.data.lastVisit,odontogram:response.data.odontogram,unCompromised:response.data.unCompromised,note:response.data.note});console.log(_this.state);});};_this.addAppointment=function(event){event.preventDefault();console.log(\"comee here\");var username=_this.state.username;var data={firstName:_this.state.firstName,lastName:_this.state.lastName,email:_this.state.email,password:_this.state.password,dob:_this.state.dob,gender:_this.state.gender,phone:_this.state.phone,address:_this.state.address,treatment:_this.state.treatment,dentist:_this.state.dentist,date:_this.state.date,time:_this.state.time,lastTreatment:_this.state.lastTreatment,lastDentist:_this.state.lastDentist,lastVisit:_this.state.lastVisit,odontogram:_this.state.odontogram,unCompromised:_this.state.unCompromised,note:_this.state.note};console.log(\"data\"+username);console.log(data);axios.put(\"http://localhost:8040/updatePatient/\"+username,data).then(function(response){_this.setState({show:true});setTimeout(function(){return _this.setState({\"show\":false});},5000);}).catch(function(error){alert(\"Username Not Found!!!try again or Register as New Patient\");});_this.setState(_this.initialState);};_this.textChange=function(event){if(event.target.name===\"username\"){_this.setState({username:event.target.value});}if(event.target.name===\"password\"){_this.setState({password:event.target.value});}if(event.target.name===\"date\"){_this.setState({date:event.target.value});}console.log(_this.state);};_this.selectChange=function(event){if(event.target.name==='dentist'){_this.setState({dentist:event.target.value});}if(event.target.name==='time'){_this.setState({time:event.target.value});}console.log(_this.state);};_this.services=function(){return _this.props.history.push(\"/services\");};_this.state=_this.initialState;_this.findTreatmentById=_this.findTreatmentById.bind(_assertThisInitialized(_this));_this.selectChange=_this.selectChange.bind(_assertThisInitialized(_this));_this.state.show=false;_this.addAppointment=_this.addAppointment.bind(_assertThisInitialized(_this));_this.getEmployees=_this.getEmployees.bind(_assertThisInitialized(_this));_this.findPatientByUsername=_this.findPatientByUsername.bind(_assertThisInitialized(_this));return _this;}_createClass(EditEmployee,[{key:\"componentDidMount\",value:function componentDidMount(){var fileId=this.props.match.params.id;this.findTreatmentById(fileId);this.getEmployees();console.log(fileId);var username=this.props.match.params.username;this.findPatientByUsername(username);console.log(username);}},{key:\"getEmployees\",value:function getEmployees(){var _this2=this;axios.get(\"http://localhost:8030/dentalemployee/employeeList\").then(function(response){return response.data;}).then(function(data){_this2.setState({employees:data});});}},{key:\"render\",value:function render(){var formCss={marginTop:'10%',marginBottom:'35px'};return/*#__PURE__*/React.createElement(\"div\",{style:formCss},/*#__PURE__*/React.createElement(\"div\",{style:{\"display\":this.state.show?\"block\":\"none\"}},/*#__PURE__*/React.createElement(MyToast,{show:this.state.show,message:\"Appointment Scheduled, Please come 10 Minutes Earlier, Thank You\",type:\"success\"})),/*#__PURE__*/React.createElement(Card,{className:\"border border-light bg-info text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-calendar-check\",style:{color:'cyan'}},\"  Make Appointment\")),/*#__PURE__*/React.createElement(Form,{onReset:this.resetEmp,onSubmit:this.addAppointment,id:\"patientForm\",encType:\"multipart/form-data\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Form.Group,{as:Row},/*#__PURE__*/React.createElement(Form.Label,{column:true,sm:\"2\"},\"Treatment\"),/*#__PURE__*/React.createElement(Col,{sm:\"10\"},/*#__PURE__*/React.createElement(Form.Control,{autoComplete:\"off\",size:\"sm\",type:\"text\",id:\"treatment\",name:\"treatment\",value:this.state.treatment,required:true}))),/*#__PURE__*/React.createElement(Form.Group,{as:Row},/*#__PURE__*/React.createElement(Form.Label,{column:true,sm:\"2\"},\"Choose Your Dentist\"),/*#__PURE__*/React.createElement(Col,{sm:\"10\"},/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",size:\"sm\",type:\"text\",id:\"dentist\",name:\"dentist\",value:this.state.dentist,onChange:this.selectChange,required:true},/*#__PURE__*/React.createElement(\"option\",null,\"Choose Your Dentist\"),this.state.employees.map(function(employee){return/*#__PURE__*/React.createElement(\"option\",null,employee.employeeName);})))),/*#__PURE__*/React.createElement(Form.Group,{as:Row},/*#__PURE__*/React.createElement(Form.Label,{column:true,sm:\"2\"},\"Choose Date\"),/*#__PURE__*/React.createElement(Col,{sm:\"10\"},/*#__PURE__*/React.createElement(Form.Control,{autoComplete:\"off\",size:\"sm\",type:\"date\",id:\"date\",name:\"date\",value:this.state.date,onChange:this.textChange,required:true}))),/*#__PURE__*/React.createElement(Form.Group,{as:Row},/*#__PURE__*/React.createElement(Form.Label,{column:true,sm:\"2\"},\"Choose Time\"),/*#__PURE__*/React.createElement(Col,{sm:\"10\"},/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",size:\"sm\",name:\"time\",value:this.state.time,onChange:this.selectChange},/*#__PURE__*/React.createElement(\"option\",null,\"Select Time\"),/*#__PURE__*/React.createElement(\"option\",null,\"09.00\"),/*#__PURE__*/React.createElement(\"option\",null,\"11.00\"),/*#__PURE__*/React.createElement(\"option\",null,\"13.00\"),/*#__PURE__*/React.createElement(\"option\",null,\"15.00\")))),/*#__PURE__*/React.createElement(Form.Group,{as:Row},/*#__PURE__*/React.createElement(Form.Label,{column:true,sm:\"2\"},\"UserName\"),/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(Form.Control,{autoComplete:\"off\",size:\"sm\",type:\"text\",id:\"username\",name:\"username\",value:this.state.username,onChange:this.textChange,placeholder:\"Enter Username\",required:true})),/*#__PURE__*/React.createElement(Form.Label,{column:true,sm:\"2\"},\"Password\"),/*#__PURE__*/React.createElement(Col,{sm:\"4\"},/*#__PURE__*/React.createElement(Form.Control,{autoComplete:\"off\",size:\"sm\",type:\"password\",id:\"password\",name:\"password\",value:this.state.password,onChange:this.textChange,placeholder:\"Enter Password\",required:true})))),/*#__PURE__*/React.createElement(Card.Footer,{className:\"border border-white bg-info text-white\",style:{textAlign:'right'}},/*#__PURE__*/React.createElement(Link,{to:\"/register\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\",size:\"sm\",variant:\"warning\"},\"New Patient\")),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"success\",size:\"sm\"},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-fa-calender\"},\" Schedule Appointment\")),'  ',/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"light\",size:\"sm\",onClick:this.services.bind()},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-backward\"},\"  Back\")),'  '))));}}]);return EditEmployee;}(Component);export{EditEmployee as default};","map":{"version":3,"sources":["/Users/mzaman/Documents/_FullStack_Project/DENTALCLINIC_APP/FrontEnd_dental_clinic_UI/src/components/Appointment.js"],"names":["React","Component","Button","Card","Form","Row","Col","Link","axios","MyToast","EditEmployee","props","initialState","treatment","time","date","dentist","employees","username","password","findTreatmentById","fileId","get","then","response","data","setState","title","findPatientByUsername","firstName","lastName","email","dob","gender","phone","address","lastTreatment","lastDentist","lastVisit","odontogram","unCompromised","note","console","log","state","addAppointment","event","preventDefault","put","show","setTimeout","catch","error","alert","textChange","target","name","value","selectChange","services","history","push","bind","getEmployees","match","params","id","formCss","marginTop","marginBottom","color","resetEmp","map","employee","employeeName","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button,Card,Form,Row,Col} from 'react-bootstrap';\n\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport MyToast from './MyToast';\n\nexport default class EditEmployee extends Component {\n\n    constructor(props){\n        super(props);\n            this.state = this.initialState;\n            this.findTreatmentById = this.findTreatmentById.bind(this);\n            this.selectChange = this.selectChange.bind(this);\n            this.state.show = false;\n            this.addAppointment = this.addAppointment.bind(this);\n            this.getEmployees = this.getEmployees.bind(this);\n            this.findPatientByUsername=this.findPatientByUsername.bind(this);\n    }\n\n    initialState = {\n       treatment: '',time:'',date:'',dentist:'', employees : [], username:'',password:''\n    }\n\n    componentDidMount() {\n        const fileId = this.props.match.params.id;\n            this.findTreatmentById(fileId);\n            this.getEmployees();\n                console.log(fileId);\n\n        const username = this.props.match.params.username;\n            this.findPatientByUsername(username);\n                console.log(username);\n    }\n    \n    findTreatmentById = (fileId) => {\n      \n        axios.get(\"http://localhost:8020/dentaltreatments/treatmentbyid/\"+fileId)\n        .then(response => response.data)\n        .then ((data)=> {\n                this.setState({\n                treatment : data.title\n            })\n        })\n    }\n\n    getEmployees(){\n        axios.get(\"http://localhost:8030/dentalemployee/employeeList\")\n            .then(response => response.data)\n            .then ((data)=> {\n                this.setState ({employees : data});\n            });\n\n        }\n\n    findPatientByUsername= (username) =>{\n        axios.get(\"http://localhost:8040/patient/\"+username)\n            .then(response => {\n                this.setState({\n                    firstName: response.data.firstName,\n                    lastName: response.data.lastName,\n                    email: response.data.email,\n                    username: response.data.username,\n                    password: response.data.password,\n                    dob: response.data.dob,\n                    gender:response.data.gender,\n                    phone: response.data.phone,\n                    address: response.data.address,\n                    treatment: response.data.treatment,\n                    dentist: response.data.dentist,\n                    date: response.data.date,\n                    time:response.data.time,\n                    lastTreatment:response.data.lastTreatment,\n                    lastDentist:response.data.lastDentist,\n                    lastVisit:response.data.lastVisit,\n                    odontogram:response.data.odontogram,\n                    unCompromised:response.data.unCompromised,\n                    note:response.data.note\n                })\n                console.log(this.state);\n            }) \n        }\n\n    addAppointment = event =>{\n        event.preventDefault();\n            console.log(\"comee here\");\n            \n            const username = this.state.username;\n            const data = {\n                firstName: this.state.firstName,\n                lastName: this.state.lastName,\n                email: this.state.email,\n                password: this.state.password,\n                dob: this.state.dob,\n                gender:this.state.gender,\n                phone: this.state.phone,\n                address: this.state.address,\n                treatment: this.state.treatment,\n                dentist: this.state.dentist,\n                date: this.state.date,\n                time:this.state.time,\n                lastTreatment:this.state.lastTreatment,\n                lastDentist:this.state.lastDentist,\n                lastVisit:this.state.lastVisit,\n                odontogram:this.state.odontogram,\n                unCompromised:this.state.unCompromised,\n                note:this.state.note\n            }\n            console.log(\"data\"+ username);\n            console.log(data);\n            \n            \n        axios.put(\"http://localhost:8040/updatePatient/\"+username, data)\n            .then (response => {\n                this.setState({show:true});\n                setTimeout (()=> this.setState({\"show\":false}),5000);\n            })\n            .catch((error) => {\n                alert(\"Username Not Found!!!try again or Register as New Patient\");\n            })\n            this.setState(this.initialState);\n        }\n            \n    textChange = event => {\n   \n        if (event.target.name === \"username\") {\n            this.setState({\n            username: event.target.value\n            });\n        }\n        if (event.target.name === \"password\") {\n            this.setState({\n            password: event.target.value\n            });\n        }\n        if (event.target.name === \"date\") {\n            this.setState({\n            date: event.target.value\n            });\n        }\n        console.log(this.state);\n    }\n\n    selectChange = event => {\n        if (event.target.name === 'dentist') {\n          this.setState({\n            dentist: event.target.value\n          });\n        }\n        if (event.target.name === 'time') {\n            this.setState({\n              time: event.target.value\n            });\n          }\n        console.log(this.state);\n      }\n\n    services =()=>{\n        return this.props.history.push(\"/services\");\n    };\n\n    render() {\n        const formCss ={\n            marginTop:'10%',\n            marginBottom : '35px'\n             };\n            \n        return (\n            \n        <div style={formCss}>\n            <div style={{\"display\": this.state.show ? \"block\" : \"none\"}}>\n                <MyToast show = {this.state.show} message = {\"Appointment Scheduled, Please come 10 Minutes Earlier, Thank You\"} type = {\"success\"} />\n            </div>\n                <Card className=\"border border-light bg-info text-white\">\n                    <Card.Header><i class=\"fas fa-calendar-check\" style={{color:'cyan'}}>  Make Appointment</i></Card.Header>\n                            <Form onReset={this.resetEmp} onSubmit={this.addAppointment} id=\"patientForm\" encType=\"multipart/form-data\">\n                                <Card.Body>\n\n                                    <Form.Group as={Row}>\n                                        <Form.Label column sm=\"2\">Treatment</Form.Label>\n                                        <Col sm=\"10\">\n                                        <Form.Control autoComplete=\"off\" size=\"sm\" type=\"text\" id=\"treatment\" name=\"treatment\" value={this.state.treatment} required />\n                                        </Col>\n                                    </Form.Group> \n                                   \n                                    <Form.Group as={Row}>\n                                        <Form.Label column sm=\"2\">Choose Your Dentist</Form.Label>\n                                        <Col sm=\"10\">\n                                        <Form.Control as=\"select\" size=\"sm\" type=\"text\" id=\"dentist\" name=\"dentist\" value={this.state.dentist} onChange={this.selectChange} required>\n                                            <option>Choose Your Dentist</option>\n                                            {this.state.employees.map((employee) => ( \n                                                <option>{employee.employeeName}</option>\n                                            ))}\n                                        </Form.Control>\n                                        </Col>\n                                    </Form.Group>\n                                 \n                                    <Form.Group as={Row}>\n                                        <Form.Label column sm=\"2\">Choose Date</Form.Label>\n                                        <Col sm=\"10\">\n                                        <Form.Control autoComplete=\"off\" size=\"sm\" type=\"date\" id=\"date\" name=\"date\" value={this.state.date} onChange={this.textChange} required />\n                                        </Col>\n                                    </Form.Group>  \n\n                                    <Form.Group as={Row}>\n                                    <Form.Label column sm=\"2\">Choose Time</Form.Label>\n                                        <Col sm=\"10\">\n                                        <Form.Control as=\"select\"  size=\"sm\" name =\"time\" value={this.state.time} onChange={this.selectChange}>\n                                        <option>Select Time</option>\n                                          <option>09.00</option>\n                                          <option>11.00</option>\n                                          <option>13.00</option>\n                                          <option>15.00</option>\n                                        </Form.Control>\n                                        </Col>\n                                    </Form.Group>\n\n                                    <Form.Group as={Row}>\n                                    <Form.Label column sm=\"2\">UserName</Form.Label>\n                                    <Col sm=\"4\">\n                                    <Form.Control autoComplete=\"off\" size=\"sm\" type=\"text\" id=\"username\" name=\"username\" value={this.state.username} onChange={this.textChange}  placeholder=\"Enter Username\" required />\n                                    </Col>\n                                    <Form.Label column sm=\"2\">Password</Form.Label>\n                                    <Col sm=\"4\">\n                                    <Form.Control autoComplete=\"off\" size=\"sm\" type=\"password\" id=\"password\" name=\"password\" value={this.state.password} onChange={this.textChange}  placeholder=\"Enter Password\" required />\n                                    </Col>\n                                </Form.Group>  \n                                </Card.Body>\n\n\n                            <Card.Footer className=\"border border-white bg-info text-white\" style={{textAlign:'right'}}>\n                                <Link to= {\"/register\"}><Button type=\"submit\"  size=\"sm\" variant=\"warning\" >New Patient</Button></Link>\n                                <Button type=\"submit\" variant=\"success\" size=\"sm\"><i class=\"fas fa-fa-calender\"> Schedule Appointment</i></Button>{'  '}\n                                <Button type=\"submit\" variant=\"light\" size=\"sm\" onClick={this.services.bind()}><i className=\"fas fa-backward\">  Back</i></Button>{'  '}\n                            </Card.Footer>\n                    </Form>\n                </Card>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}